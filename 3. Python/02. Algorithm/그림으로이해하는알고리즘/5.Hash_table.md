# 해시테이블 (hash table)

- 유용한 자료 구조의 하나인 해시 테이블에 대해서 알아봄.

## 1. 해시 함수의 소개

- 식료품 가게에서 일을 하고 있다고 생각해보자. 손님이 물건을 사러 왔을 때 물건의 가격이 적혀져있는 장부를 찾아서 가격을 봐야 한다. 
- 만약 장부가 정렬이 정렬이 되어 있지 않다면 $O(n)$ 만큼의 시간이 걸릴 것이다.
- 정렬이 되어있다면 이진 탐색을 통해 $O(log(n))$ 만큼의 시간이 소요될 것이다. 
- 두 차이는 크다.
- 정렬이 되어있더라도 지속적으로 장부를 보고 찾는 일은 힘들 것이다. 이때 가장 필요한 것이 가격을 외우고 있는 동료가 옆에 있는 것.



#### 이를 자료 구조 관점으로 

------------------

- 배열과 리스트 2개의 자료구조를 학습하였다.
- 장부 구조 
  $[(EGG,2.49),(MILK,1.49),(PEAR,0.79)]$
- $O(1)$ 시간에 찾아내고 싶어하는데 이를 가능하게 하는 것이 $Hash function$ 이다.



## 2. 해시 함수 

- 해시 함수는 문자열(String)을 받아서 숫자를 반환하는 함수.
- 함수는 문자열에 대해 숫자를 Mapping(할당)한다.
- 해시 함수의 요건
  - 일관성을 유지해야 한다. (Apple -> 4, Banana -> 5) 를 무조건 유지.
  - 다른 단어가 들어간다면 꼭 다른 숫자가 나와야 한다. 같은 수가 나온다면 해시 함수가 아니다.



#### 어떻게 사용할 수 있을까?

-----

- 빈 배열 

  |      |      |      |      |      |
  | :--: | :--: | :--: | :--: | :--: |
  |  0   |  1   |  2   |  3   |  4   |

- 모든 가격을 위의 배열에 저장할 것이다. 

  - apple의 가격을 추가. 해시 함수에 apple을 넣음.

  - 해시 함수는 3을 출력, apple의 가격(0.67)은 배열 3번 인덱스 위치에 저장 한다.

    |      |      |      | 0.67 |      |
    | :--: | :--: | :--: | :--: | :--: |
    |  0   |  1   |  2   |  3   |  4   |

  - milk도 추가. 해시 함수에 milk를 넣음.

  - 해시 함수가 0을 반환, 인덱스 0 위치에 milk 가격(1.49)을 저장.

    | 1.49 |      |      | 0.67 |      |
    | :--: | :--: | :--: | :--: | :--: |
    |  0   |  1   |  2   |  3   |  4   |

  - 이와 같은 방법으로 전체 배열이 가격으로 채워질 것이다.

    | 1.49 | 0.79 | 2.49 | 0.67 | 1.49 |
    | :--: | :--: | :--: | :--: | :--: |
    |  0   |  1   |  2   |  3   |  4   |

- 이제 아보카도 가격이 얼마지 라는 물음이 온다면, 배열을 탐색할 필요 없이 아보카도를 해시함수에 넣기만 하면 해당 가격이 있는 인덱스를 출력하게 될 것이다. 

  - 4를 출력, 가격 list[4] = 1.49 

- 해시함수는 가격이 저장되어있는 배열이 얼마나 큰지 알고 있어야 하며, 유요한 인덱스만 반환해야 한다. 

- 해시함수는 해시 맵, 맵, 딕셔너리, 연관 배열과 같은 이름으로도 알려져 있다.

```python
book = dict()

book["apple"] = 0.67
book["milk"] = 1.49
book["avocado"] = 1.49

print(book) # {'avocado':1.49,'apple':0.67,'milk':1.49}
print(book['avocado']) # ouput : 1.49
```

- 해시테이블은 Key와 Value를 가진다. 



## 3. 해시 테이블 사용 예

#### 해시 테이블로 조회하기(전화번호부)

----

- 휴대폰에는 간단한 전화번호부가 있다. 
- 각각의 이름은 관련된 전화번호를 가지고 있다.
  - BADE MAMA -> 581-660-9820
  - ALEX MANNING -> 484-234-4680
  - JANE MARIN -> 415-567-3579
- 만드는 전화번호부에는 다음과 같은 기능을 가지고 있다.
  - 사람이름과 관련된 전화번호를 추가
  - 사람 이름을 입력하면 그 이름과 관련된 전화번호를 알려준다.
- 해시테이블은 다음과 같은 일을 하고자 할 때 좋다.
  - 어떤 것을 다른 것과 연관시키고자 할 때
  - 무언가를 찾아보고자 할 때

```python
phone_book = dict() # phone_book = {} 
phone_book["jenny"] = 8675309
phone_book["emrtgency"] = 911

print(phone_book["jenny"]) # 8675309 
```

- 다른 예로는 웹사이트와 IP 맵핑이 동일한 작업이다.